<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Voter-Science</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <link rel="stylesheet" type="text/css" href="trcgrid.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="main.css">

    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>
    <script src="bundle.js"></script>
    <script>
        // plugin startup shim
        var _pluginModule = require('pluginmain');

        // Global reference to the current sheet;
        var _plugin = null;

        // Common error handler
        function showError(error) {
            var msg = error.Message; // Commonly a user error.
            if (!msg) {
                msg = error;
            }

            $("#_errors").html("<pre style='color:red'>Error on load:" + msg + "</pre>");
            $("#_errorbtn").show();
        }
        function clearError() {
            $("#_errors").empty();
            $("#_errorbtn").hide();
        }

        // This is a well-known entry point. It's called by the hosting infrastructure.
        function PluginMain(sheetRef, opts) {

            _pluginModule.MyPlugin.BrowserEntryAsync(sheetRef, opts).then(
                function (plugin) {
                    // Success
                    _plugin = plugin;
                    $("#_loadingmsg").hide();
                    $("#_mainbody").show(); // activate main controls
                }
            ).catch(function (error) {
                // Error case. Display message and Keep main body hiden.
                $("#_loadingmsg").hide();
                showError(error);
            });
        }
    </script>
    <script src="https://trcanvasdata.blob.core.windows.net/code2/plugin.js"></script>
</head>

<body>
    <div id="_loadingmsg">
        <img src="https://trcanvasdata.blob.core.windows.net/code2/loading.gif">
    </div>
    <span id="_errors">
    </span>
    <span id="_errorbtn" style="display:none">
        <button onclick="clearError()">Clear error</button>
    </span>
    <div id="_mainbody" style="display:none">

      <section class="main-banner small plugin-banner">
    		<div class="container-fluid">
    			<div class="row">
    				<div class="col-md-12">
    					<h1>Welcome to Voter-Science Canvasser</h1>
    					<h2>What would you like to do? See Help for more detail.</h2>
    					<div class="cta-wrap">
    						<a href="https://blog.voter-science.com/canvas/" class="btn btn-fixed btn-blue">Help</a>
    					</div>
    				</div>
    			</div>
    		</div>
    	</section>

        <div class="container-fluid">

            <table class="table table-bordered table-hover">
              <tbody>
                <tr>
                    <td>Sheet Name:</td>
                    <td>
                        <div id="SheetName"></div>
                    </td>
                </tr>
                <tr class="notTopLevel">
                    <td>Parent:</td>
                    <td>
                        <div id="ParentSheetName"></div>
                    </td>
                </tr>
                <tr>
                    <td>Total Rows:</td>
                    <td>
                        <div id="RowCount"></div>
                    </td>
                </tr>
              </tbody>
            </table>

            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
              <div class="panel panel-default">
                  <div class="panel-heading" role="tab">
                    <a data-toggle="collapse" href="#collapse1" data-parent="#accordion">
                      <h2 class="panel-title">
                        Contact voters
                      </h2>
                    </a>
                  </div>
                  <div id="collapse1" class="panel-collapse collapse in" role="tapanel">
                      <div class="panel-body">
                        <div class="panel-intro">
                          <p>Here are several different ways to contact voters. </p>
                          <p>Use the reporting features to track your outreach efforts.</p>
                          <p>If you want to apply these outreach tools to just a subset of the rows, use the partition feature to create a child sheet.</p>
                        </div>
                        <div class="row">
                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-list-ul"></i>
              										</div>
                                  <h3>ListView</h3>
                                  <p>
                                    Show list voters all on one page. This is like a <strong>digital clipboard</strong>. You can also use this view to <strong>print</strong>.
                                  </p>
              										<a class="plugin">listview</a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-map-marked-alt"></i>
              										</div>
                                  <h3>Map</h3>
                                  <p>Show voters on a map.</p>
              										<a plugin="map.all">Map</a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-mobile-alt"></i>
                                  </div>
                                  <h3>Mobile App</h3>
                                  <p>Download the mobile app for better offline usage.</p>
                                  <p>
                                    <a href="https://canvas.voter-science.com/fwd/android">
                                      <img class="store-cta" width=150 src="https://voterscience.files.wordpress.com/2018/05/google-play.png?w=702" alt="" />
                                    </a>
                                  </p>
                                  <p>
                                    <a href="https://canvas.voter-science.com/fwd/ios">
                                      <img class="store-cta" width=150 src="https://voterscience.files.wordpress.com/2018/05/apple-app-store.png?w=702" />
                                    </a>
                                  </p>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-envelope"></i>
              										</div>
                                  <h3>Mailer</h3>
                                  <p>Produce a mail list by household.</p>
              										<a class="plugin">mailer</a>
              									</div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="panel panel-default">
                  <div class="panel-heading" role="tab">
                    <a data-toggle="collapse" href="#collapse2" data-toggle="collapse" data-parent="#accordion">
                      <h2 class="panel-title">
                        Partition and Share this data
                      </h2>
                    </a>
                  </div>

                  <div id="collapse2" class="panel-collapse collapse" role="tabpanel">
                      <div class="panel-body">
                        <div class="panel-intro">
                          <p>Divide this sheet into sections (aka "child sheets"). Once you create these child sheets, you can then assign them out to others:</p>
                          <p>
                            <a href="https://blog.voter-science.com/2017/05/12/sharing-with-trc">Learn more about how to
                              share.</a>
                          </p>
                        </div>

                          <div class="row">
                              <div class="col-md-12">
                                  <h2>Create new child sheets</h2>
                              </div>
                          </div>

                          <div class="row">
                              <div class="col-sm-6">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-globe"></i>
              										</div>
                                  <h3>Geofence</h3>
                                  <p>Use a map to geographically draw the area into sub-regions. These sub-regions can then be assigned out.</p>
              										<a plugin="geofencing.beta">Use geofencing</a>
              									</div>
                              </div>

                              <div class="col-sm-6">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-filter"></i>
              										</div>
                                  <h3>Filter</h3>
                                  <p>Use query expressions to select rows</p>
              										<a plugin="filter"></a>
              									</div>
                              </div>
                          </div>

                          <div class="row">
                              <div class="col-md-12">
                                  <h2>Share sheets</h2>
                              </div>
                          </div>
                          <div class="row text-center bottom-margin">
                              <div class="col-sm-6" class="hasChildren">
                                  <a plugin="listview">View/Share individual sections</a>
                              </div>
                              <div class="col-sm-6">
                                  <a plugin="share">Share entire sheet</a>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>


              <div class="panel panel-default">
                  <div class="panel-heading" role="tab">
                    <a data-toggle="collapse" href="#collapse3" data-toggle="collapse" data-parent="#accordion">
                      <h2 class="panel-title">
                        Data and Targeting
                      </h2>
                    </a>
                  </div>
                  <div id="collapse3" class="panel-collapse collapse" role="tabpanel">
                      <div class="panel-body">
                        <div class="panel-intro">
                          <p>
                            If you don't have time to contact every single person in this sheet, then target just the subset you want to contact. Targets get applied to all child sheets.
                          </p>
                          <p>
                            <a href="https://blog.voter-science.com/canvass-targeting">Learn more about targeting.</a>
                          </p>
                        </div>

                          <div class="row topLevel">
                              <div class="col-sm-6 col-md-4">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-filter"></i>
              										</div>
                                  <h3>Filter</h3>
                                  <p>Use query expressions to select a set of targets for this sheet.</p>
              										<a plugin="filter"></a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-4">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-search"></i>
              										</div>
                                  <h3>Search</h3>
                                  <p>Search for an individual name within this sheet.</p>
              										<a plugin="search"></a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-4">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-upload"></i>
              										</div>
                                  <h3>Upload data</h3>
                                  <p>
                                    Upload new columns of data. These can either be a set of targets determined elsewhere, or it can data used in the filters for setting targets.
                                  </p>
              										<a plugin="datauploader"></a>
              									</div>
                              </div>
                          </div>

                          <div class="row notTopLevel">
                              <div class="col-md-12">
                                <div class="alert alert-danger" role="alert">
                                  Targeting can only be done at the parent sheet.
                                </div>
                              </div>
                          </div>

                          <div hasColumn="row XTargetPri">
                              <div class="alert alert-info" role="alert">
                                  Targets have been set for this sheet
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="panel panel-default">
                  <div class="panel-heading" role="tab">
                    <a data-toggle="collapse" href="#collapse4" data-toggle="collapse" data-parent="#accordion">
                      <h2 class="panel-title">
                        Reporting
                      </h2>
                    </a>
                  </div>
                  <div id="collapse4" class="panel-collapse collapse" role="tabpanel">
                      <div class="panel-body">
                        <div class="panel-intro">
                          <p>
                              Reporting lets you track progress from your outreach efforts and also get a pulse on the data in the sheet.
                          </p>
                        </div>


                          <div class="row">
                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-users"></i>
              										</div>
                                  <h3>Audit</h3>
                                  <p>Primary reporting mechanism for tracking outeach efforts. This lets you see per-user per-day activity.</p>
              										<a plugin="audit"></a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-chart-area"></i>
              										</div>
                                  <h3>Explore Data and Chart</h3>
                                  <p>Explore the data via query expressions and create charts.</p>
              										<a plugin="filter"></a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-chart-pie"></i>
              										</div>
                                  <h3>Demo-graphics</h3>
                                  <p>Quick charts on overall demographics of the sheet.</p>
              										<a plugin="Demographics"></a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3" hasColumn="PrecinctName">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="far fa-chart-bar"></i>
              										</div>
                                  <h3>Precincts</h3>
                                  <p>Quick charts per-precinct information.</p>
              										<a plugin="precinctreport"></a>
              									</div>
                              </div>

                              <div class="col-sm-6 col-md-3" hasColumn="XVoted">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-chart-line"></i>
              										</div>
                                  <h3>GOTV Turnout</h3>
                                  <p>View ballot return status and Get-Out-The-Vote information.</p>
              										<a plugin="turnout"></a>
              									</div>
                              </div>
                          </div>

                      </div>
                  </div>
              </div>

              <div class="topLevel panel panel-default">
                  <div class="panel-heading" role="tab">
                    <a data-toggle="collapse" href="#collapse5" data-toggle="collapse" data-parent="#accordion">
                      <h2 class="panel-title">
                        Other
                      </h2>
                    </a>
                  </div>
                  <div id="collapse5" class="panel-collapse collapse" role="tabpanel">
                      <div class="panel-body">

                          <div class="row">
                              <div class="col-sm-6 col-md-3">
                                <div class="block">
                                  <div class="icon-wrap small">
                                    <i class="fas fa-plug"></i>
              										</div>
                                  <h3>Plugins</h3>
                                  <p>View other plugins. This shows more advanced features</p>
              										<a plugin="plugins"></a>
              									</div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
            </div>
        </div>
    </div>
</body>

</html>
